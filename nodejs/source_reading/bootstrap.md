# nodejs的启动

- 入口函数 `int main(int argc, char* argv[])` 所在文件`node/src/node_main.cc`.
    - `node::Start(argc, argv)` 所在文件`node/src/node.cc`
        - `Init(&args, &exec_args)` 所在文件`node/src/node.cc`
            - `RegisterBuiltinModules()` 所在文件`node/src/node.cc`
                - `NODE_BUILTIN_MODULES(V)` 所在文件`node/src/node.cc`
                    - `NODE_BUILTIN_STANDARD_MODULES(V)` 所在文件`node/src/node_internals.h`
                        - `V(async_wrap)` 所在文件`node/src/node_internals.h`
                        - ......
                        - `V(zlib)` 所在文件`node/src/node_internals.h`
                    - `NODE_BUILTIN_OPENSSL_MODULES(V)` 所在文件`node/src/node_internals.h`
                    - `NODE_BUILTIN_ICU_MODULES(V)` 所在文件`node/src/node_internals.h`
            - `ProcessArgv(argv, exec_argv, false);` 所在文件`node/src/node.cc`
            - `node_is_initialized = true;`
        - `v8_platform.Initialize(per_process_opts->v8_thread_pool_size);` 所在文件`node/src/node.cc`
        - `V8::Initialize();` 所在文件`node/src/node.cc`
        - `v8_initialized = true;` 所在文件`node/src/node.cc`
        - `Start(uv_default_loop(), args, exec_args);` 所在文件`node/src/node.cc`
        - `v8_platform.StopTracingAgent();` 所在文件`node/src/node.cc`
        - `v8_initialized = false;` 所在文件`node/src/node.cc`
        - `V8::Dispose();` 所在文件`node/src/node.cc`
        - `v8_platform.Dispose();` 所在文件`node/src/node.cc`