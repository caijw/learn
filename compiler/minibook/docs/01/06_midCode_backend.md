# 中间代码生成和后端

## 常用的中间表示形式

### 三地址码（three-address code）

由类似于汇编语言的指令序列组成，每个指令最多有三个操作数（operand）

常用的三地址指令：

|      序号           | 指令类型         | 指令形式            |
| :-------------: | :-------------: | :-------------:|
| 1 | 赋值指令 | x = y `op` z ; x = `op` y;  |
| 2 | 复制指令 | x `=` y;  |
| 3 | 条件跳转 | if x `relop` y goto n  |
| 4 | 非条件跳转 | `goto` n  |
| 5 | 参数传递 | `param` x  |
| 6 | 过程调用 | `call` p, n  |
| 7 | 过程返回 | `return` x  |
| 8 | 数组引用 | x = y`[i]`  |
| 9 | 数组赋值 | x`[i]` = y |
| 10 | 地址及指针操作 | x `=&` y; x `=*` y; `*`x `=` y;  |

地址可以具有如下形式：

源程序中的名字（name）

常量（constant）

编译器生成的临时变量（emporary variable）

三地址指令的表示：

四元式（quadruples）：(op, y, z, x)

三元式（triples）

间接三元式（indirect triples）

### 语法结构树/语法树（syntax trees）

## 目标代码生成

目标代码生成以源程序的中间表示形式作为输入，并把它映射到目标语言

目标代码生成的一个重要任务是为程序中使用的变量合理分配寄存器

## 代码优化

为改进代码所进行的等价程序变换，使其运行的更快一些，占用的空间更少一些，或者二者兼顾
