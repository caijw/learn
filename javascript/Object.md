# js Object 的 扩展、封装和冻结

## 扩展

如果一个对象可以添加新的属性，则这个对象是可扩展的。

让这个对象变的不可扩展，也就是不能再有新的属性

### Object.isExtensible

判断一个对象是否是可扩展的（是否可以在它上面添加新的属性）

### Object.preventExtensions

方法让一个对象变的不可扩展，也就是永远不能再添加新的属性。

不可扩展的对象的属性通常仍然可以被删除。

尝试给一个不可扩展对象添加新属性的操作将会失败，不过可能是静默失败，也可能会抛出 TypeError 异常（严格模式）。

Object.preventExtensions 只能阻止一个对象不能再添加新的自身属性，仍然可以为该对象的原型添加属性

## 密封

密封对象是指那些不可 扩展 的，且所有自身属性都不可配置的（non-configurable）对象。

或则说 密封对象是指那些不能添加新的属性，不能删除已有属性，以及不能修改已有属性的可枚举性、可配置性、可写性，但可能可以修改已有属性的值的对象。

## Object.isSealed

方法判断一个对象是否是密封的（sealed）

## Object.seal

可以让一个对象密封，并返回被密封后的对象。

密封对象是指那些不能添加新的属性，不能删除已有属性，以及不能修改已有属性的可枚举性、可配置性、可写性，但可能可以修改已有属性的值的对象。

通常情况下，一个对象是可扩展的（可以添加新的属性）。

密封一个对象会让这个对象变的不能添加新属性，且所有已有属性会变的不可配置。

属性不可配置的效果就是属性变的不可删除，以及一个数据属性不能被重新定义成为访问器属性，或者反之。

但属性的值仍然可以修改。

尝试删除一个密封对象的属性或者将某个密封对象的属性从数据属性转换成访问器属性，结果会静默失败或抛出TypeError 异常（严格模式）。

不会影响从原型链上继承的属性。但 __proto__ (  ) 属性的值也会不能修改。

## 冻结

一个对象是冻结的（frozen）是指它不可扩展，所有属性都是不可配置的（non-configurable），且所有数据属性（data properties）都是不可写的（non-writable）

数据属性是值那些没有取值器（getter）或赋值器（setter）的属性。

### Object.isFrozen

方法判断一个对象是否被冻结（frozen）。

### Object.freeze

冻结一个对象

冻结对象是指那些不能添加新的属性，不能修改已有属性的值，不能删除已有属性，以及不能修改已有属性的可枚举性、可配置性、可写性的对象。也就是说，这个对象永远是不可变的。该方法返回被冻结的对象。

任何尝试修改该对象的操作都会失败，可能是静默失败，也可能会抛出异常（严格模式中）。

数据属性的值不可更改，访问器属性（有getter和setter）也同样（但由于是函数调用，给人的错觉是还是可以修改这个属性）。

如果一个属性的值是个对象，则这个对象中的属性是可以修改的，除非它也是个冻结对象
